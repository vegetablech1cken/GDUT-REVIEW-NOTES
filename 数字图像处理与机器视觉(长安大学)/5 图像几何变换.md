## 图像的位置变换
所谓图像的位置变换是指图像的大小和形状不发生变化，只是将图像进行旋转和平移.
### 图像的平移
公式:
$$\begin{cases}x^{\prime}=x+\Delta x\\y^{\prime}=y+\Delta y&\end{cases}$$
*注意:由于平移后位置改变,需要在操作平移之前提前扩大画布*
### 图像的镜像
公式:
$$\begin{cases}x^{\prime}=x\\y^{\prime}=-y&\end{cases}(\text{水平镜像})$$
$$\begin{cases}x^{\prime}=-x\\y^{\prime}=y&\end{cases}(\text{垂直镜像})$$
镜像完x或y坐标会变成负的,需要再平移一下.
### 图像的旋转
公式:
$$\begin{cases}x^{\prime}=x\cos\theta-y\sin\theta\\y^{\prime}=x\sin\theta+y\cos\theta&\end{cases}$$
*注意:同样需要前期处理:扩大画布,取整处理,平移处理*
#### 图像旋转的后处理
图像旋转中,由于像素值是不连续的,旋转后会出现很多空洞.可以采用插值填充的方法来解决.

最简单的方法是行插值(或列插值)方法.对于空洞像素,直接使用前一点像素值填补它.
其他插值方式:双线性插值(四近邻求平均);灰度插值(离空洞最近的像素灰度值作为其灰度值)
## 图像的形状变换
### 图像的缩小
分为按比例缩小和不按比例缩小.

图像缩小实际上就是对原有的多个数据进行挑选或处理,最简单,也是按比例缩小的方法就是等间隔选取数据.
![[Pasted image 20250417001423.png]]
#### 具体操作步骤
设原图像大小为M\*N,缩小为k1M\*k2N，（k1<1，k2<1）
1. 设旧图像是F(i,j)， i=1,2,…,M,  j=1,2,…,N.
   新图像是I(x,y),  x=1,2,…,k1M, y=1,2,…,k2N.
2. $I(x,y)=F(c_{1}\cdot i,c_{2}\cdot j)$
   其中$c_{1}=\frac{1}{k_{1}},c_{1}=\frac{2}{k_{2}}$
### 图像的放大
相比较于图像缩小,图像放大的要点是需要对多出的空位填入适当的值，是信息的估计.

最简单的方法,若放大倍数k为整数,则将原图像中的每个像素值，填在新图像中对应的k\*k大小的子块中.
#### 具体操作步骤
普遍的图像放大步骤:
设原图像大小为M\*N,放大为k1M\*k2N，（k1>1，k2>1）
1. 设旧图像是F(i,j)， i=1,2,…,M,  j=1,2,…,N.
   新图像是I(x,y),  x=1,2,…,k1M, y=1,2,…,k2N.
2. $I(x,y)=F(c_{1}\cdot i,c_{2}\cdot j)$
   其中$c_{1}=\frac{1}{k_{1}},c_{1}=\frac{2}{k_{2}}$
### 图像的错切
公式:
$$\begin{cases}x^{\prime}=x+d_xy\\y^{\prime}=y&\end{cases}(x\text{方向的错切})$$
$$\begin{cases}x^{\prime}=x\\y^{\prime}=y+d_yx&\end{cases}(y\text{方向的错切})$$
效果:
![[Pasted image 20250417002946.png]]
## 三维物体的投影
### 投影变换
和第二章的小孔成像投影模型类似,这里讲述的也是把一个三维的点,通过一个已知的视点(这次视点不在原点),投影到投影平面上(这部分讨论中投影平面一般在z=0).
![[Pasted image 20250417005315.png]]
公式:
$$\begin{array}{rcl}X&=&\frac{hx}{h-z}\\\\Y&=&\frac{hy}{h-z}\end{array}$$
公式的原理感觉和前面小孔成像也是一样的.
### 透视变换
接续上文,这里的情景和上面类似,不过刚才视点和三维点在同一编,这次在成像面的两边.
![[Pasted image 20250417005530.png]]
公式:
$$\begin{aligned}X&=\frac{fx}{f+z}\\\\Y&=\frac{fy}{f+z}\end{aligned}$$
## 几何畸变的矫正
当镜头没有正对拍摄目标物时，即目标物不是垂直于成像面上时，就会发生几何畸变.可以通过下面的式子所定义的线性几何变换进行矫正:
$$\begin{cases}x^{\prime}=a_1x+b_1y+c_1\\y^{\prime}=a_2x+b_2y+c_2&\end{cases}$$
如果是二次失真(非线性),可以使用更复杂的形式:
$$\begin{aligned}
x^{\prime}=k_{1}x+k_{2}y+k_{3}xy+k_{4}\\y^{\prime}=k_{5}x+k_{6}y+k_{7}xy+k_{8}
\end{aligned}$$
